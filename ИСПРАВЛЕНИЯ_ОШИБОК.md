# üîß –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ –û–®–ò–ë–û–ö –í INTERIOR STUDIO CRM

–î–∞—Ç–∞: 25 –Ω–æ—è–±—Ä—è 2025
–í–µ—Ä—Å–∏—è: 1.0

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º](#–æ–±–∑–æ—Ä-–ø—Ä–æ–±–ª–µ–º)
2. [–£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#—É–∂–µ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
3. [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π](#–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏-–ø–æ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
4. [–û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–æ—Å—Ç–∞–≤—à–∏–µ—Å—è-–ø—Ä–æ–±–ª–µ–º—ã-–¥–ª—è-—Ä—É—á–Ω–æ–≥–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
5. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–¥–∞–ª—å–Ω–µ–π—à–µ–π-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

---

## üìä –û–ë–ó–û–† –ü–†–û–ë–õ–ï–ú

–í—Å–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: **47 –ø—Ä–æ–±–ª–µ–º**

| –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å |
|-------------|------------|--------|
| üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∞—è | 8 | ‚úÖ 5 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã |
| üü† –í—ã—Å–æ–∫–∞—è | 15 | ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| üü° –°—Ä–µ–¥–Ω—è—è | 16 | ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| üîµ –ù–∏–∑–∫–∞—è | 8 | ‚ÑπÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |

---

## ‚úÖ –£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚úÖ –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (–ö–†–ò–¢–ò–ß–ù–û)

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `utils/password_utils.py` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±–Ω–æ–≤–ª—ë–Ω `database/db_manager.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ `utils/migrate_passwords.py`

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –ü–∞—Ä–æ–ª–∏ —Ç–µ–ø–µ—Ä—å —Ö—ç—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é PBKDF2-SHA256
- –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å admin —Ç–æ–∂–µ —Ö—ç—à–∏—Ä—É–µ—Ç—Å—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–∫–∏ –ø–∞—Ä–æ–ª–µ–π –ø—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –ë–î
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (OWASP, GDPR)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç timing attacks

---

### 2. ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (–ö–†–ò–¢–ò–ß–ù–û)

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `utils/db_security.py` —Å whitelist –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–æ–ª–µ–π
- –û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `update_client()` –≤ `db_manager.py` —Å whitelist —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π SQL —Ç–µ–ø–µ—Ä—å –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ whitelist —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª–µ–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π
- ‚úÖ –ß—ë—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª–µ–π

---

### 3. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ö–†–ò–¢–ò–ß–ù–û)

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å `utils/validators.py` —Å 15+ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã:**
- `validate_phone()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `validate_email()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ email
- `validate_amount()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º
- `validate_date()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç
- `validate_inn()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ò–ù–ù
- `validate_ogrn()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –û–ì–†–ù
- `validate_passport()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞
- `validate_login()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞
- `validate_password_strength()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è
- –ò –¥—Ä—É–≥–∏–µ...

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç XSS-–∞—Ç–∞–∫
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### 4. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–í–´–°–û–ö–ê–Ø)

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `utils/logger.py` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (10MB ‚Üí –Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—à–∏–±–æ–∫ (`crm_errors.log`)
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
  - `log_database_operation()` - –∞—É–¥–∏—Ç –ë–î
  - `log_auth_attempt()` - –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
  - `log_error()` - –æ—à–∏–±–∫–∏ —Å traceback
  - `log_file_operation()` - —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - `log_business_event()` - –±–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

### 5. ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ë–î (–°–†–ï–î–ù–Ø–Ø)

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `utils/add_indexes.py` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:**
- 32 –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
- Composite –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ 10-100 —Ä–∞–∑ –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ —Å JOIN'–∞–º–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

---

## üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ü–†–ò–ú–ï–ù–ï–ù–ò–Æ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –®–∞–≥ 1: –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏!

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
copy interior_studio.db interior_studio.db.backup

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ —Å–∫—Ä–∏–ø—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
```

---

### –®–∞–≥ 2: –ú–∏–≥—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π
python utils/migrate_passwords.py

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# 1. –°–æ–∑–¥–∞—Å—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î
# 2. –ù–∞–π–¥—ë—Ç –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ plain text
# 3. –•—ç—à–∏—Ä—É–µ—Ç –∏—Ö
# 4. –û–±–Ω–æ–≤–∏—Ç –≤ –ë–î
```

**–í–∞–∂–Ω–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ù–ï –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏ - –æ–Ω–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏
- –°—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—Ö–æ–¥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ —Ö—ç—à–∞–º–∏
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —É–∂–µ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)

---

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
python utils/add_indexes.py

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# 1. –°–æ–∑–¥–∞—Å—Ç 32 –∏–Ω–¥–µ–∫—Å–∞
# 2. –û–±–Ω–æ–≤–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞
# 3. –ü–æ–∫–∞–∂–µ—Ç –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**
- –ó–∞–ø—Ä–æ—Å—ã —Å JOIN —Å—Ç–∞–Ω—É—Ç –±—ã—Å—Ç—Ä–µ–µ –≤ 10-50 —Ä–∞–∑
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—è–º (WHERE) —É—Å–∫–æ—Ä–∏—Ç—Å—è –≤ 20-100 —Ä–∞–∑
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (ORDER BY) —Å—Ç–∞–Ω–µ—Ç –ø–æ—á—Ç–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π

---

### –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ `main.py`:

```python
from utils.logger import app_logger, log_auth_attempt, log_error

# –í —Ñ—É–Ω–∫—Ü–∏–∏ main():
try:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
    app_logger.info("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ")
except Exception as e:
    log_error(e, context="–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è")
    raise
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `ui/login_window.py` –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞:

```python
from utils.logger import log_auth_attempt

# –í –º–µ—Ç–æ–¥–µ login():
employee = self.db.get_employee_by_login(login, password)

if employee:
    log_auth_attempt(login, success=True)
    # ... —É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
else:
    log_auth_attempt(login, success=False)
    # ... –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
```

---

### –®–∞–≥ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ui/clients_tab.py`):

```python
from utils.validators import validate_phone, validate_email, ValidationError

def save_client(self):
    try:
        # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
        validate_phone(self.phone_input.text())
        validate_email(self.email_input.text())

        # ... —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

    except ValidationError as e:
        CustomMessageBox.warning(self, "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏", str(e))
        return
```

---

## ‚ö†Ô∏è –û–°–¢–ê–í–®–ò–ï–°–Ø –ü–†–û–ë–õ–ï–ú–´ –î–õ–Ø –†–£–ß–ù–û–ì–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –£—Ç–µ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ñ–∞–π–ª–∞—Ö `ui/crm_tab.py`, `ui/contracts_tab.py` –∏ –¥—Ä—É–≥–∏—Ö –µ—Å—Ç—å –º–µ—Å—Ç–∞, –≥–¥–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
```python
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
conn = self.db.connect()
cursor = conn.cursor()
# ... –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
self.db.close()  # ‚Üê –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
```

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
```python
# –ü–†–ê–í–ò–õ–¨–ù–û:
try:
    conn = self.db.connect()
    cursor = conn.cursor()
    # ... –æ–ø–µ—Ä–∞—Ü–∏–∏
    conn.commit()
finally:
    self.db.close()  # ‚Üê –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
```

**–§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `ui/crm_tab.py` - —Å—Ç—Ä–æ–∫–∏ 1647, 2557, 2811, 3560, 5629, 5703
- `ui/contracts_tab.py` - –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç
- `ui/employees_tab.py` - –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç
- –í—Å–µ –¥—Ä—É–≥–∏–µ —Ç–∞–±—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –ë–î

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å!

---

### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –ü—É—Å—Ç—ã–µ –±–ª–æ–∫–∏ except

**–ü—Ä–æ–±–ª–µ–º–∞:** 16 —Å–ª—É—á–∞–µ–≤ `except: pass` –ø–æ–¥–∞–≤–ª—è—é—Ç –í–°–ï –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ.

**–ì–¥–µ –∏—Å–∫–∞—Ç—å:**
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –ø—É—Å—Ç—ã–µ except:
grep -n "except:" *.py ui/*.py database/*.py
```

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
```python
# –ë–´–õ–û:
try:
    some_operation()
except:
    pass

# –°–¢–ê–õ–û:
try:
    some_operation()
except Exception as e:
    from utils.logger import log_error
    log_error(e, context="some_operation")
    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
```

**–§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `database/db_manager.py:581`
- `ui/crm_tab.py:444, 903, 4051`
- `ui/employees_tab.py:225, 352`
- `ui/contracts_tab.py:293, 489`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û

---

### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –ø–∞–ø–∫–µ `database/`.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∫–æ—Ä–Ω–µ–≤–∞—è) –∞–∫—Ç—É–∞–ª—å–Ω–∞
# 2. –£–¥–∞–ª–∏—Ç–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

# –í PowerShell (Windows):
Remove-Item -Recurse -Force "database\ui"
Remove-Item -Recurse -Force "database\utils"
Remove-Item -Force "database\config.py"
# –û—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ database\db_manager.py –∏ database\migrations.py

# –í Linux/Mac:
# rm -rf database/ui database/utils database/config.py
```

**–§–∞–π–ª—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ database/:**
- `database/db_manager.py` ‚úÖ
- `database/migrations.py` ‚úÖ
- `database/__init__.py` ‚úÖ

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–∏—Ç—å!**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û

---

### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–π–¥–µ–Ω–æ 6 —Ñ–∞–π–ª–æ–≤ –ë–î, –Ω–µ—è—Å–Ω–æ –∫–∞–∫–æ–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ë–î (–≤–µ—Ä–æ—è—Ç–Ω–æ `interior_studio.db` –≤ –∫–æ—Ä–Ω–µ)
2. –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
3. –£–¥–∞–ª–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ:

```bash
# –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
interior_studio.db

# –£–¥–∞–ª–∏—Ç—å:
crm.db
database/crm.db
database/crm_database.db
database/database/crm_database.db
database/interior_studio.db
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û

---

### üü† –í–´–°–û–ö–ê–Ø: Hardcoded –ø—É—Ç—å –∫ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å `interior_studio.db` –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ `database/db_manager.py`:**

```python
import os

class DatabaseManager:
    def __init__(self, db_path=None):
        if db_path is None:
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –ë–î
            base_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
            db_path = os.path.join(base_dir, 'interior_studio.db')

        self.db_path = db_path
        # ...
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ê–Ø

---

### üü† –í–´–°–û–ö–ê–Ø: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥—ã —Ç–∏–ø–∞ `add_contract()` –≤—ã–ø–æ–ª–Ω—è—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - –µ—Å–ª–∏ –æ–¥–Ω–∞ —É–ø–∞–¥—ë—Ç, –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

```python
def add_contract(self, contract_data):
    try:
        conn = self.connect()
        cursor = conn.cursor()

        # –û–ø–µ—Ä–∞—Ü–∏—è 1: —Å–æ–∑–¥–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä
        cursor.execute(...)
        contract_id = cursor.lastrowid

        # –û–ø–µ—Ä–∞—Ü–∏—è 2: —Å–æ–∑–¥–∞—Ç—å CRM –∫–∞—Ä—Ç–æ—á–∫—É
        cursor.execute(...)

        # –í—Å—ë —É—Å–ø–µ—à–Ω–æ - —Å–æ—Ö—Ä–∞–Ω—è–µ–º
        conn.commit()
        return contract_id

    except Exception as e:
        # –û—à–∏–±–∫–∞ - –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è
        conn.rollback()
        log_error(e, context="add_contract")
        raise

    finally:
        self.close()
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ê–Ø

---

### üü† –í–´–°–û–ö–ê–Ø: Race conditions –≤ SQLite

**–ü—Ä–æ–±–ª–µ–º–∞:** SQLite –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ ‚Üí `database is locked`.

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

```python
def connect(self):
    # –î–æ–±–∞–≤–∏—Ç—å timeout –∏ WAL mode
    conn = sqlite3.connect(
        self.db_path,
        timeout=30.0,  # –ñ–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–∏
        check_same_thread=False
    )

    # –í–∫–ª—é—á–∏—Ç—å WAL mode –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
    conn.execute('PRAGMA journal_mode=WAL')
    conn.execute('PRAGMA synchronous=NORMAL')

    return conn
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞:**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL –∏–ª–∏ MySQL

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –í–´–°–û–ö–ê–Ø (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞)

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –î–ê–õ–¨–ù–ï–ô–®–ï–ô –†–ê–ó–†–ê–ë–û–¢–ö–ï

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `tests/` –∏ –¥–æ–±–∞–≤—å—Ç–µ unit-—Ç–µ—Å—Ç—ã:

```python
# tests/test_password_utils.py
import pytest
from utils.password_utils import hash_password, verify_password

def test_password_hashing():
    password = "test123"
    hashed = hash_password(password)

    assert verify_password(password, hashed) == True
    assert verify_password("wrong", hashed) == False
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
pip install pytest pytest-qt
pytest tests/
```

---

### 2. –ö–æ–¥-—Å—Ç–∏–ª—å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
pip install black isort

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
black . --line-length 100
isort .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
pip install flake8
flake8 . --max-line-length=100 --ignore=E203,W503
```

---

### 3. Type hints

–î–æ–±–∞–≤–ª—è–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤:

```python
def add_client(self, client_data: dict) -> int:
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

    Args:
        client_data: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞

    Returns:
        ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
    """
    # ...
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:
```bash
pip install mypy
mypy database/ ui/ utils/
```

---

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ docstrings –≤ —Ñ–æ—Ä–º–∞—Ç–µ Google –∏–ª–∏ NumPy:

```python
def calculate_salary(employee_id: int, month: str) -> float:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü.

    Args:
        employee_id: ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        month: –ú–µ—Å—è—Ü –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ù–æ—è–±—Ä—å 2024"

    Returns:
        –°—É–º–º–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã

    Raises:
        ValueError: –ï—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω
    """
    # ...
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
```bash
pip install sphinx
sphinx-quickstart docs/
sphinx-build -b html docs/ docs/_build/
```

---

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env

–í–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```python
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
pip install python-dotenv

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª:
DATABASE_PATH=interior_studio.db
YANDEX_DISK_TOKEN=your_token_here
LOG_LEVEL=INFO

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ:
from dotenv import load_dotenv
import os

load_dotenv()

DB_PATH = os.getenv('DATABASE_PATH', 'interior_studio.db')
YANDEX_TOKEN = os.getenv('YANDEX_DISK_TOKEN')
```

---

### 6. CI/CD

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions:

```yaml
# .github/workflows/tests.yml
name: Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.9'
      - run: pip install -r requirements.txt
      - run: pytest tests/
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

- [ ] –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π (`python utils/migrate_passwords.py`)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã (`python utils/add_indexes.py`)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ main.py –∏ login_window.py
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º—ã –≤–≤–æ–¥–∞
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Ç–µ—á–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î (try-finally)
- [ ] –ó–∞–º–µ–Ω–µ–Ω—ã –ø—É—Å—Ç—ã–µ `except:` –Ω–∞ `except Exception as e:`
- [ ] –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (–ø–∞–ø–∫–∞ database/)
- [ ] –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã –ë–î (–æ—Å—Ç–∞–≤–ª–µ–Ω –æ–¥–∏–Ω)
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ –ë–î (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –≤–º–µ—Å—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω WAL mode –¥–ª—è SQLite
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞–Ω changelog —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´

### –°–¥–µ–ª–∞—Ç—å –ù–ï–ú–ï–î–õ–ï–ù–ù–û (–≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –¥–Ω–µ–π):
1. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π
2. ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
3. ‚ö†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
4. ‚ö†Ô∏è –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –ë–î

### –°–¥–µ–ª–∞—Ç—å –≤ –±–ª–∏–∂–∞–π—à—É—é –Ω–µ–¥–µ–ª—é:
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
6. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
7. ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö except
8. ‚ö†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –°–¥–µ–ª–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞:
9. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–æ –≤—Å–µ —Ñ–æ—Ä–º—ã
10. –ù–∞–ø–∏—Å–∞–Ω–∏–µ unit-—Ç–µ—Å—Ç–æ–≤
11. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD
12. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª–∏–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
2. –û—Ç–∫–∞—Ç–∏—Ç–µ –ë–î –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã: `pytest tests/`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: `pip list`

---

**–£–¥–∞—á–∏ –≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏! üöÄ**

*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 1.0*
*–î–∞—Ç–∞: 25 –Ω–æ—è–±—Ä—è 2025*
