# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Interior Studio CRM –Ω–∞ Timeweb Cloud VPS

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Timeweb:
- üá∑üá∫ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- üí≥ –û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–∞–º–∏ –†–§
- üí∞ –û—Ç 300‚ÇΩ/–º–µ—Å—è—Ü
- üõ°Ô∏è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- üìû –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7 –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- üöÄ –ü—Ä–æ—Å—Ç–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## –ß–ê–°–¢–¨ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∑–∞–∫–∞–∑ VPS

### –®–∞–≥ 1.1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Timeweb

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://timeweb.cloud/
2. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - Email
   - –ü–∞—Ä–æ–ª—å
   - –¢–µ–ª–µ—Ñ–æ–Ω (–¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### –®–∞–≥ 1.2: –ó–∞–∫–∞–∑ VPS —Å–µ—Ä–≤–µ—Ä–∞

1. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **"–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –¶–µ–Ω–∞ |
|----------|----------|------|
| **CPU** | 1 —è–¥—Ä–æ | - |
| **RAM** | 2 GB | - |
| **–î–∏—Å–∫** | 20 GB SSD | - |
| **–û–°** | Ubuntu 22.04 LTS | - |
| **–õ–æ–∫–∞—Ü–∏—è** | –ú–æ—Å–∫–≤–∞ | - |
| **–ò–¢–û–ì–û** | - | ~350‚ÇΩ/–º–µ—Å |

–î–ª—è 10+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ–∑—å–º–∏—Ç–µ:
- CPU: 2 —è–¥—Ä–∞
- RAM: 4 GB
- –î–∏—Å–∫: 40 GB SSD
- –¶–µ–Ω–∞: ~650‚ÇΩ/–º–µ—Å

3. –í—ã–±–µ—Ä–∏—Ç–µ **Ubuntu 22.04 LTS** (—Å–∞–º–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
4. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–∫–∞–∑–∞—Ç—å"**

### –®–∞–≥ 1.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ SSH

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞:

1. –í –ø–∞–Ω–µ–ª–∏ Timeweb –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **IP –∞–¥—Ä–µ—Å** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123.45.67.89`)
   - **–ü–∞—Ä–æ–ª—å root** (–ø–æ–∫–∞–∑–∞–Ω –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏!)

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–ª–æ–∫–Ω–æ—Ç:
```
IP: 123.45.67.89
User: root
Password: –≤–∞—à_–ø–∞—Ä–æ–ª—å
```

---

## –ß–ê–°–¢–¨ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –®–∞–≥ 2.1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SSH (Windows)

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ PowerShell (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)

```powershell
ssh root@–≤–∞—à_IP_–∞–¥—Ä–µ—Å
```

–ü—Ä–∏–º–µ—Ä:
```powershell
ssh root@123.45.67.89
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Å–ø—Ä–æ—Å–∏—Ç:
```
Are you sure you want to continue connecting (yes/no)?
```
–ù–∞–ø–∏—à–∏—Ç–µ `yes` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–ø—Ä–∏ –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—å –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Timeweb Web Console

1. –í –ø–∞–Ω–µ–ª–∏ Timeweb –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ö–æ–Ω—Å–æ–ª—å"**
3. –í–≤–µ–¥–∏—Ç–µ:
   - –õ–æ–≥–∏–Ω: `root`
   - –ü–∞—Ä–æ–ª—å: (–≤–∞—à –ø–∞—Ä–æ–ª—å)

---

## –ß–ê–°–¢–¨ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 3.1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–æ–º–∞—à–Ω—é—é –ø–∞–ø–∫—É
cd ~

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
curl -O https://raw.githubusercontent.com/FESTIVALCOLOR/NewCRM/main/install.sh

# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x install.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
sudo bash install.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Docker –∏ Docker Compose
- ‚úÖ –°–∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª .env —Å –ø–∞—Ä–æ–ª—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** 5-10 –º–∏–Ω—É—Ç

### –®–∞–≥ 3.2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω:

```bash
nano /opt/interior_studio/.env
```

–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
YANDEX_DISK_TOKEN=
```

–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω:
```
YANDEX_DISK_TOKEN=y0_–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, Enter, `Ctrl+X`

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
cd /opt/interior_studio
docker-compose restart api
```

---

## –ß–ê–°–¢–¨ 4: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –±–µ–∑ —Å–∫—Ä–∏–ø—Ç–∞:

### –®–∞–≥ 4.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
apt update && apt upgrade -y
```

### –®–∞–≥ 4.2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo systemctl start docker
sudo systemctl enable docker
```

### –®–∞–≥ 4.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose

```bash
sudo curl -L "https://github.com/docker/compose/releases/download/v2.24.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
docker-compose --version
```

### –®–∞–≥ 4.4: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd /opt
git clone https://github.com/FESTIVALCOLOR/NewCRM.git interior_studio
cd interior_studio
```

### –®–∞–≥ 4.5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
```env
POSTGRES_PASSWORD=–≤–∞—à_—Å–∏–ª—å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
SECRET_KEY=—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ_–∫–æ–º–∞–Ω–¥–æ–π_–Ω–∏–∂–µ
YANDEX_DISK_TOKEN=y0_–≤–∞—à_—Ç–æ–∫–µ–Ω
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY:
```bash
openssl rand -hex 32
```

### –®–∞–≥ 4.6: –°–æ–∑–¥–∞–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)

```bash
mkdir -p nginx/ssl
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout nginx/ssl/key.pem \
    -out nginx/ssl/cert.pem \
    -subj "/C=RU/ST=Moscow/L=Moscow/O=Interior Studio/CN=localhost"
```

### –®–∞–≥ 4.7: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
docker-compose up -d --build
```

---

## –ß–ê–°–¢–¨ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 5.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker-compose ps
```

–î–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
- `crm_postgres` (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- `crm_api` (FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- `crm_nginx` (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)

### –®–∞–≥ 5.2: –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ API
docker-compose logs -f api

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker-compose logs --tail=100 api
```

### –®–∞–≥ 5.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ API

–£–∑–Ω–∞–π—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
curl ifconfig.me
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://–≤–∞—à_IP_–∞–¥—Ä–µ—Å
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "app": "Interior Studio CRM API",
  "version": "1.0.0",
  "status": "running"
}
```

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ SSL:** –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∂–µ—Ç "–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ" - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞. –ù–∞–∂–º–∏—Ç–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" ‚Üí "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç".

---

## –ß–ê–°–¢–¨ 6: –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –®–∞–≥ 6.1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
docker-compose exec postgres psql -U crm_user -d interior_studio_crm
```

### –®–∞–≥ 6.2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```sql
INSERT INTO employees (
    full_name,
    phone,
    email,
    login,
    password_hash,
    position,
    department,
    role,
    status,
    created_at,
    updated_at
) VALUES (
    '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
    '+7 999 000-00-00',
    'admin@studio.ru',
    'admin',
    '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5oDgbHQJO9EGu',
    '–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Å—Ç—É–¥–∏–∏',
    '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ',
    '–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Å—Ç—É–¥–∏–∏',
    '–∞–∫—Ç–∏–≤–Ω—ã–π',
    NOW(),
    NOW()
);
```

–ü–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `admin123`

**–í–ê–ñ–ù–û:** –°—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

–í—ã—Ö–æ–¥ –∏–∑ psql: `\q`

### –®–∞–≥ 6.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è

```bash
docker-compose exec postgres psql -U crm_user -d interior_studio_crm -c "SELECT id, login, full_name FROM employees;"
```

---

## –ß–ê–°–¢–¨ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `crm.mycompany.ru`):

### –®–∞–≥ 7.1: DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í –ø–∞–Ω–µ–ª–∏ –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–æ–≤ –¥–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å:
```
–¢–∏–ø: A
–ò–º—è: crm (–∏–ª–∏ @)
–ó–Ω–∞—á–µ–Ω–∏–µ: –≤–∞—à_IP_–∞–¥—Ä–µ—Å
TTL: 3600
```

### –®–∞–≥ 7.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (Let's Encrypt)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ certbot
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot certonly --standalone -d crm.mycompany.ru

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
cp /etc/letsencrypt/live/crm.mycompany.ru/fullchain.pem /opt/interior_studio/nginx/ssl/cert.pem
cp /etc/letsencrypt/live/crm.mycompany.ru/privkey.pem /opt/interior_studio/nginx/ssl/key.pem

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
docker-compose restart nginx
```

### –®–∞–≥ 7.3: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ cron
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
0 0 * * * certbot renew --quiet && cp /etc/letsencrypt/live/crm.mycompany.ru/fullchain.pem /opt/interior_studio/nginx/ssl/cert.pem && cp /etc/letsencrypt/live/crm.mycompany.ru/privkey.pem /opt/interior_studio/nginx/ssl/key.pem && docker-compose -f /opt/interior_studio/docker-compose.yml restart nginx
```

---

## –ß–ê–°–¢–¨ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (PyQt5)

### –®–∞–≥ 8.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ config.py

–ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ—Ç–∫—Ä–æ–π—Ç–µ `config.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```python
# –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º
MULTI_USER_MODE = True

# URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ!)
API_BASE_URL = "https://–≤–∞—à_IP_–∏–ª–∏_–¥–æ–º–µ–Ω"

# –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Å–µ–∫—É–Ω–¥—ã)
SYNC_INTERVAL = 5
```

–ü—Ä–∏–º–µ—Ä:
```python
API_BASE_URL = "https://123.45.67.89"
# –∏–ª–∏
API_BASE_URL = "https://crm.mycompany.ru"
```

---

## –ß–ê–°–¢–¨ 9: –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –°—Ç–∞—Ç—É—Å
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose stop

# –ó–∞–ø—É—Å–∫
docker-compose start

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose down
docker-compose up -d --build

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ GitHub
cd /opt/interior_studio
git pull
docker-compose up -d --build
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres pg_dump -U crm_user interior_studio_crm > backup_$(date +%Y%m%d).sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
docker-compose exec -T postgres psql -U crm_user interior_studio_crm < backup_20250101.sql
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/RAM
docker stats

# –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h

# –ü–∞–º—è—Ç–∏
free -h
```

---

## –ß–ê–°–¢–¨ 10: Firewall (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UFW

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ UFW
apt install -y ufw

# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH
ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP/HTTPS
ufw allow 80/tcp
ufw allow 443/tcp

# –í–∫–ª—é—á–∏—Ç—å firewall
ufw enable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
ufw status
```

---

## –°—Ç–æ–∏–º–æ—Å—Ç—å

### Timeweb Cloud VPS:

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –¶–µ–Ω–∞/–º–µ—Å |
|--------------|---------------|----------|
| 1 CPU, 2GB RAM, 20GB SSD | 5-10 | ~350‚ÇΩ |
| 2 CPU, 4GB RAM, 40GB SSD | 10-20 | ~650‚ÇΩ |
| 4 CPU, 8GB RAM, 80GB SSD | 20-50 | ~1200‚ÇΩ |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
- –î–æ–º–µ–Ω (.ru): ~200‚ÇΩ/–≥–æ–¥
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt)

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### Timeweb:
- –°–∞–π—Ç: https://timeweb.cloud/
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: 24/7 —á–∞—Ç –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://timeweb.cloud/help

### –í–∞—à –ø—Ä–æ–µ–∫—Ç:
- GitHub: https://github.com/FESTIVALCOLOR/NewCRM
- –õ–æ–≥–∏: `docker-compose logs -f`

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs api

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d --force-recreate api
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç
docker-compose ps postgres

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ë–î
docker-compose restart postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs postgres
```

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ API

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã
netstat -tlnp | grep -E '80|443'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
ufw status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å nginx
docker-compose logs nginx
```

### –û—à–∏–±–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
cd /opt/interior_studio
rm -rf nginx/ssl/*
mkdir -p nginx/ssl
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout nginx/ssl/key.pem \
    -out nginx/ssl/cert.pem \
    -subj "/C=RU/ST=Moscow/L=Moscow/O=Interior Studio/CN=localhost"
docker-compose restart nginx
```

---

## –ì–æ—Ç–æ–≤–æ!

–í–∞—à–∞ CRM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Timeweb Cloud VPS!

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ:
1. –ü–æ–¥–∫–ª—é—á–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ (PyQt5 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
2. –î–æ–±–∞–≤–ª—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
3. –†–∞–±–æ—Ç–∞—Ç—å –≤ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Ä–µ–∂–∏–º–µ

–£–¥–∞—á–∏!
