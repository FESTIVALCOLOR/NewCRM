# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI –≤ –æ–∫–Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–î–∞—Ç–∞:** 25 –Ω–æ—è–±—Ä—è 2025
**–§–∞–π–ª:** `ui/clients_tab.py`

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. üîß –†–∞—Å—Ç—è–≥–∏–≤–∞–Ω–∏–µ –æ–∫–Ω–∞ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–∏–ø–∞ –∫–ª–∏–µ–Ω—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ" –Ω–∞ "–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ" –æ–∫–Ω–æ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–ª–æ—Å—å –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `adjustSize()` –≤ –º–µ—Ç–æ–¥ `on_type_changed()` (—Å—Ç—Ä–æ–∫–∞ 513)
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ö–æ–¥:**
```python
def on_type_changed(self, client_type):
    if client_type == '–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ':
        self.individual_group.setVisible(True)
        self.legal_group.setVisible(False)
    else:
        self.individual_group.setVisible(False)
        self.legal_group.setVisible(True)

    # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
    self.adjustSize()
    self.setFixedWidth(650)
```

---

### 2. üñ±Ô∏è –ö—É—Ä—Å–æ—Ä –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ö—É—Ä—Å–æ—Ä —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –≤ –∫–æ–Ω–µ—Ü –Ω–æ–º–µ—Ä–∞ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ (–¥–æ–ª–∂–µ–Ω –≤ –Ω–∞—á–∞–ª–æ)
- –ö—É—Ä—Å–æ—Ä –±—ã–ª —Ç–æ–ª—Å—Ç—ã–º/—à–∏—Ä–æ–∫–∏–º (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–Ω–∫–∏–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `InputMask` –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–≤–∞–ª —Ä–µ–∂–∏–º overwrite

**–†–µ—à–µ–Ω–∏—è:**

#### A. –£–±—Ä–∞–Ω InputMask, –¥–æ–±–∞–≤–ª–µ–Ω–æ –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë—ã–ª–æ:**
```python
self.phone.setInputMask('+7 (999) 000-00-00;_')
```

**–°—Ç–∞–ª–æ:**
```python
self.phone.setText('+7 (')  # –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
self.phone.textChanged.connect(lambda: self.format_phone_input(self.phone))
self.phone.focusInEvent = lambda e: self.on_phone_focus_in(self.phone, e)
```

#### B. –î–æ–±–∞–≤–ª–µ–Ω CSS –¥–ª—è —Ç–æ–Ω–∫–æ–≥–æ –∫—É—Ä—Å–æ—Ä–∞

```python
self.phone.setStyleSheet("""
    QLineEdit {
        caret-width: 1px;  /* –¢–æ–Ω–∫–∏–π –∫—É—Ä—Å–æ—Ä */
    }
""")
```

#### C. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫—É—Ä—Å–æ—Ä–∞ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ

```python
def on_phone_focus_in(self, line_edit, event):
    """
    –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –≤ –Ω–∞—á–∞–ª–æ –≤–≤–æ–¥–∞
    (–ø–æ—Å–ª–µ +7 ()
    """
    from PyQt5.QtWidgets import QLineEdit
    QLineEdit.focusInEvent(line_edit, event)

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –ø–æ—Å–ª–µ "+7 ("
    if line_edit.text() == '+7 (' or line_edit.text().startswith('+7 ('):
        line_edit.setCursorPosition(4)  # –ü–æ–∑–∏—Ü–∏—è –ø–æ—Å–ª–µ "+7 ("
```

#### D. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞

```python
def format_phone_input(self, line_edit):
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º +7 (
    –ö—É—Ä—Å–æ—Ä —Ç–æ–Ω–∫–∏–π, –≤—Å—Ç–∞–≤–∫–∞ –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ
    """
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
    # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º: +7 (XXX) XXX-XX-XX
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞
```

---

### 3. üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ (–±–æ–Ω—É—Å)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–∞ —Å—Ç—Ä–æ–∫–µ 413 –º–∞—Å–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞—Å—å –¥–ª—è `self.phone` –≤–º–µ—Å—Ç–æ `self.org_phone`

**–ë—ã–ª–æ:**
```python
self.org_phone = QLineEdit()
self.phone.setInputMask('+7 (999) 000-00-00;_')  # ‚Üê –û—à–∏–±–∫–∞!
```

**–°—Ç–∞–ª–æ:**
```python
self.org_phone = QLineEdit()
self.org_phone.setText('+7 (')  # ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

1. `on_type_changed()` - –¥–æ–±–∞–≤–ª–µ–Ω `adjustSize()`
2. `format_phone_input()` - –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. `on_phone_focus_in()` - –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫—É—Ä—Å–æ—Ä–∞
4. `fill_data()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå –û–∫–Ω–æ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–∏–ø–∞
- ‚ùå –ö—É—Ä—Å–æ—Ä –≤ –∫–æ–Ω—Ü–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚ùå –ö—É—Ä—Å–æ—Ä —Ç–æ–ª—Å—Ç—ã–π/—à–∏—Ä–æ–∫–∏–π
- ‚ùå InputMask —Å —Ä–µ–∂–∏–º–æ–º overwrite

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –û–∫–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
- ‚úÖ –ö—É—Ä—Å–æ—Ä –≤ –Ω–∞—á–∞–ª–µ –≤–≤–æ–¥–∞ (–ø–æ—Å–ª–µ +7 ()
- ‚úÖ –ö—É—Ä—Å–æ—Ä —Ç–æ–Ω–∫–∏–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π (1px)
- ‚úÖ –†–µ–∂–∏–º insert, –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞:**
   - –û—Ç–∫—Ä—ã—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞"
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ"
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ "–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ"
   - ‚úÖ –û–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É

2. **–¢–µ—Å—Ç –∫—É—Ä—Å–æ—Ä–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:**
   - –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ "–¢–µ–ª–µ—Ñ–æ–Ω"
   - ‚úÖ –ö—É—Ä—Å–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ "+7 ("
   - ‚úÖ –ö—É—Ä—Å–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–Ω–∫–∏–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º
   - –ù–∞—á–∞—Ç—å –≤–≤–æ–¥–∏—Ç—å —Ü–∏—Ñ—Ä—ã
   - ‚úÖ –ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è: +7 (999) 123-45-67

3. **–¢–µ—Å—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞:**
   - –û—Ç–∫—Ä—ã—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –Ω–æ–º–µ—Ä–æ–º
   - ‚úÖ –ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä
   - ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
