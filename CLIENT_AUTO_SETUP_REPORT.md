# –û—Ç—á—ë—Ç: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞

**–î–∞—Ç–∞:** 24.12.2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û

---

## üéØ –ò—Ç–æ–≥–∏ —Ä–∞–±–æ—Ç—ã

### ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: 100% —É—Å–ø–µ—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö   ‚îÇ –í—Å–µ–≥–æ  ‚îÇ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ‚îÇ –û—à–∏–±–æ–∫ ‚îÇ –ü—Ä–æ—Ü–µ–Ω—Ç ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏   ‚îÇ   9    ‚îÇ     9      ‚îÇ   0    ‚îÇ  100%   ‚îÇ
‚îÇ –ö–ª–∏–µ–Ω—Ç—ã      ‚îÇ   5    ‚îÇ     5      ‚îÇ   0    ‚îÇ  100%   ‚îÇ
‚îÇ –î–æ–≥–æ–≤–æ—Ä—ã     ‚îÇ   14   ‚îÇ    14      ‚îÇ   0    ‚îÇ  100%   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ SQLite –≤ PostgreSQL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!**

---

## üîß –†–µ—à—ë–Ω–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. JWT Authentication Error (HTTP 401)

**–ü—Ä–æ–±–ª–µ–º–∞:**
`JWTClaimsError: Subject must be a string`

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `python-jose` —Å—Ç—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –ø–æ–ª–µ `sub` –≤ JWT —Ç–æ–∫–µ–Ω–µ –±—ã–ª–æ **string**, –∞ –Ω–µ integer.

**–ü—Ä–∏—á–∏–Ω–∞:**
```python
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
access_token = create_access_token(data={"sub": employee.id})  # int
```

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –ü–†–ê–í–ò–õ–¨–ù–û:
access_token = create_access_token(data={"sub": str(employee.id)})  # string

# –í auth.py –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏:
employee_id: int = int(payload.get("sub"))  # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `server/main.py` (line 78)
- `server/auth.py` (line 69)

---

### 2. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:**
–°–µ—Ä–≤–µ—Ä–Ω–∞—è PostgreSQL –∏–º–µ–ª–∞ —É–ø—Ä–æ—â—ë–Ω–Ω—É—é —Å—Ö–µ–º—É, –ª–æ–∫–∞–ª—å–Ω–∞—è SQLite - –ø–æ–ª–Ω—É—é —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–æ–ª–µ–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –¥–∏–∑–∞–π–Ω-—Å—Ç—É–¥–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**
–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã:

#### `server/database.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:

**Employee:**
- `legal_status`, `hire_date`, `termination_date`, `payment_details`
- `salary_type`, `base_salary`, `hourly_rate`, `commission_rate`
- `notes`

**Contract:**
- `manager_id` (ForeignKey –Ω–∞ employees)
- –§–∞–π–ª—ã –¥–æ–≥–æ–≤–æ—Ä–æ–≤: `contract_file_name`, `contract_file_yandex_path`
- –®–∞–±–ª–æ–Ω—ã: `template_contract_file_name`, `template_contract_file_yandex_path`
- –¢–µ—Ö–∑–∞–¥–∞–Ω–∏—è: `tech_task_file_name`, `tech_task_yandex_path`
- –ó–∞–º–µ—Ä—ã: `measurement_image_link`, `measurement_date`, `measurement_file_name`, `measurement_yandex_path`
- –ü—Ä–æ—á–∏–µ: `references_yandex_path`, `photo_documentation_yandex_path`

#### `server/schemas.py` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã Pydantic –º–æ–¥–µ–ª–∏:
- `EmployeeBase`, `EmployeeUpdate`
- `ContractBase`, `ContractUpdate`

---

### 3. Windows Emoji Encoding

**–ü—Ä–æ–±–ª–µ–º–∞:**
`'charmap' codec can't encode character '\U0001f510'`

Windows –∫–æ–Ω—Å–æ–ª—å (cp1251) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Unicode emoji.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫–ª—é—á—ë–Ω console handler –≤ `utils/logger.py`
2. –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ emoji –∏–∑ `ui/main_window.py`
3. –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ ASCII

---

## üì¶ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞

### –§–∞–π–ª: `config.py`

```python
# ========== –ú–ù–û–ì–û–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –†–ï–ñ–ò–ú ==========
MULTI_USER_MODE = True
API_BASE_URL = "https://147.45.154.193"
SYNC_INTERVAL = 5
CACHE_ENABLED = True
CACHE_PATH = os.path.join(BASE_DIR, 'cache')
```

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `config.py` | –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ MULTI_USER_MODE |
| `ui/login_window.py` | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ API –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `ui/main_window.py` | –ü–∞—Ä–∞–º–µ—Ç—Ä `api_client`, —É–¥–∞–ª–µ–Ω—ã emoji |
| `utils/api_client.py` | –ü–∞—Ä–∞–º–µ—Ç—Ä `verify_ssl=False` (—Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç) |
| `utils/logger.py` | –û—Ç–∫–ª—é—á—ë–Ω console handler |

---

## üöÄ –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏: `migrate_to_server.py`

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

```python
class DataMigrator:
    def migrate_employees(self):
        # –ß–∏—Ç–∞–µ—Ç –∏–∑ SQLite (–∏—Å–∫–ª—é—á–∞—è admin)
        # –°–æ–∑–¥–∞—ë—Ç —á–µ—Ä–µ–∑ API: api_client.create_employee()
        # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥: old_id -> new_id
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å: 'change_me_123'

    def migrate_clients(self):
        # –ß–∏—Ç–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        # –°–æ–∑–¥–∞—ë—Ç —á–µ—Ä–µ–∑ API —Å –º–∞–ø–ø–∏–Ω–≥–æ–º manager_id

    def migrate_contracts(self):
        # –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –≤—Å–µ –¥–æ–≥–æ–≤–æ—Ä—ã
        # –ú–∞–ø–ø–∏—Ç client_id –∏ manager_id
        # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```
EMPLOYEES:
  Total: 9
  Migrated: 9 (100.0%)
  Errors: 0

CLIENTS:
  Total: 5
  Migrated: 5 (100.0%)
  Errors: 0

CONTRACTS:
  Total: 14
  Migrated: 14 (100.0%)
  Errors: 0
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

–í—Å–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å: **`change_me_123`**

–õ–æ–≥–∏–Ω—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
- login
- login2
- admin2
- login3, login4, login5, login6, login7, login8

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –∫–∞–∂–¥—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å.

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  PyQt5 Client        ‚îÇ
        ‚îÇ  (Windows Desktop)   ‚îÇ
        ‚îÇ                      ‚îÇ
        ‚îÇ  ‚Ä¢ Login Window      ‚îÇ
        ‚îÇ  ‚Ä¢ API Client        ‚îÇ
        ‚îÇ  ‚Ä¢ Local Cache       ‚îÇ
        ‚îÇ  ‚Ä¢ SSL: verify=False ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ HTTPS
                   ‚îÇ JWT Bearer Token
                   ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  Nginx (SSL Proxy)   ‚îÇ
        ‚îÇ  Port 443            ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  FastAPI Server      ‚îÇ
        ‚îÇ  Port 8000           ‚îÇ
        ‚îÇ                      ‚îÇ
        ‚îÇ  ‚Ä¢ JWT Auth          ‚îÇ
        ‚îÇ  ‚Ä¢ REST API          ‚îÇ
        ‚îÇ  ‚Ä¢ Pydantic Schemas  ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  PostgreSQL 15       ‚îÇ
        ‚îÇ  Port 5432           ‚îÇ
        ‚îÇ                      ‚îÇ
        ‚îÇ  ‚Ä¢ employees (11)    ‚îÇ
        ‚îÇ  ‚Ä¢ clients (5)       ‚îÇ
        ‚îÇ  ‚Ä¢ contracts (14)    ‚îÇ
        ‚îÇ  ‚Ä¢ sessions, logs    ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéì –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã

### –ü—Ä–æ–±–ª–µ–º—ã python-jose:

1. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è JWT claims** - `sub` –î–û–õ–ñ–ï–ù –±—ã—Ç—å string
2. **–ù–µ—Ç –∞–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Ç–∏–ø–æ–≤** - int ‚Üí string –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —è–≤–Ω–æ
3. **–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ decode**, –∞ –Ω–µ –ø—Ä–∏ encode

### –ü—Ä–æ–±–ª–µ–º—ã Windows:

1. **–ö–æ–Ω—Å–æ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Unicode** –≤—ã—à–µ ASCII
2. **cp1251 –∫–æ–¥–∏—Ä–æ–≤–∫–∞** –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å emoji
3. **–ù—É–∂–Ω–æ –ª–∏–±–æ –æ—Ç–∫–ª—é—á–∞—Ç—å console**, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ ASCII

### Docker:

1. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** –±–µ–∑ rebuild
2. **`docker-compose restart`** –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥
3. **–ù—É–∂–µ–Ω `docker-compose build`** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π Python —Ñ–∞–π–ª–æ–≤

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞

### –ù–∞ –Ω–æ–≤–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
# 1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone <repository-url>
cd interior_studio

# 2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
.venv\Scripts\activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å config.py
# MULTI_USER_MODE = True
# API_BASE_URL = "https://147.45.154.193"

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å
python main.py
```

### –õ–æ–≥–∏–Ω:
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:** admin / admin123
- **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:** login, login2, admin2, login3-8 / change_me_123

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –¢–µ—Å—Ç API:

```bash
curl -X POST https://147.45.154.193/api/auth/login \
  -d "username=admin&password=admin123" \
  --insecure
```

**–û–∂–∏–¥–∞–µ–º–æ:** HTTP 200, JSON —Å —Ç–æ–∫–µ–Ω–æ–º

### 2. –¢–µ—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞:

```python
from utils.api_client import APIClient

client = APIClient('https://147.45.154.193')
result = client.login('admin', 'admin123')
print(f"Logged in as: {result['full_name']}")

employees = client.get_employees()
print(f"Total employees: {len(employees)}")  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 11
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

- –ó–∞–ø—É—Å—Ç–∏—Ç—å `python main.py`
- –í–æ–π—Ç–∏ –∫–∞–∫ admin / admin123
- **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:** 11 –∑–∞–ø–∏—Å–µ–π (1 admin + 9 –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö + 1 testapi999)
- **–ö–ª–∏–µ–Ω—Ç—ã:** 5 –∑–∞–ø–∏—Å–µ–π
- **–î–æ–≥–æ–≤–æ—Ä—ã:** 14 –∑–∞–ø–∏—Å–µ–π

---

## üìã TODO: –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- [ ] –ò–ª–∏ –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ API

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI —Å API
- [ ] `ui/clients_tab.py` - –∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API
- [ ] `ui/contracts_tab.py` - CRUD —á–µ—Ä–µ–∑ API
- [ ] `ui/employees_tab.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- [ ] `ui/crm_tab.py` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è CRM –∫–∞—Ä—Ç–æ—á–µ–∫

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
```python
if self.api_client:  # –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º
    data = self.api_client.get_clients()
else:  # –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    data = self.db.get_all_clients()
```

### 3. Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å `utils/sync_manager.py`
- [ ] Polling –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ `/api/sync`
- [ ] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### 4. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `concurrent_edits`
- [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–ó–∞–ø–∏—Å—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º X"

### 5. –û–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å
- [ ] –ü–æ–∫–∞–∑ –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `last_activity` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ UI

### 6. –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫
- [ ] –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `.env`: `YANDEX_DISK_TOKEN=...`
- [ ] –¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤

---

## ‚úÖ Checklist –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [x] –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ë–î –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø–æ–ª–Ω–æ–π —Å—Ö–µ–º–æ–π
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (sub –∫–∞–∫ string)
- [x] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –¥–∞–Ω–Ω—ã–µ (9+5+14 = 28 –∑–∞–ø–∏—Å–µ–π)
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–ª–∏–µ–Ω—Ç –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞
- [x] –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å emoji/Windows encoding
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ API
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìû –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

**URL:** https://147.45.154.193
**API Docs:** https://147.45.154.193/docs
**Database:** PostgreSQL 15
**Web Server:** Nginx (SSL)
**App Server:** FastAPI (Uvicorn)
**Container:** Docker Compose

**–î–∞–Ω–Ω—ã–µ –≤ –ë–î:**
- Employees: 11 (1 admin + 9 users + 1 test)
- Clients: 5
- Contracts: 14

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 24.12.2025 06:35 UTC
**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~3 —á–∞—Å–∞
**–ê–≤—Ç–æ—Ä:** Claude Code Assistant
**–í–µ—Ä—Å–∏—è:** 1.0 Final
